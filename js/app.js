webpackJsonp([1],[function(t,e,n){var r,i,s,a,o,u,l,c,h,p,f=function(t,e){function n(){this.constructor=t}for(var r in e)d.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},d={}.hasOwnProperty;i=n(2),c=n(12),p=n(54),o=n(22),i.sync=function(t,e,n){var r,i;return r=e.id.split("/"),console.log("sync called with key: ",r),i="https://docs.google.com/spreadsheets/d/"+r[r.length-2]+"/gviz/tq?gid="+r[r.length-1],"read"===t?new h.visualization.Query(i).send(function(t){return function(t){return t.isError()?n.error(t):n.success(t)}}(this)):void 0},a=n(8),s=n(16),u=n(18),r=l=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.view={},e.prototype.egsElementProvider=null,e.prototype.dataSourceList=null,e.prototype.activeSource=null,e.prototype.activeConstruct=null,e.prototype.routes={"":"default",":skey":"loadSource",":skey/:sgid":"loadSource",":skey/:sgid/:ckey/:cgid":"loadConstruct"},e.prototype["default"]=function(){return this.setActiveDataSource.call(this)},e.prototype.loadSource=function(t,e){return null==e&&(e=0),console.log("Routed to loadSource '"+t+"'/'"+e+"'"),this.setActiveDataSource.call(this,t+"/"+e)},e.prototype.loadConstruct=function(t,e,n,r){return console.log("Routed to loadConstruct '"+t+"'/'"+e+"'/'"+n+"'/'"+r+"'"),this.setActiveDataSource.call(this,t+"/"+e,function(i){return function(s){return i.setActiveConstruction.call(i,t+"/"+e+"/"+n+"/"+r,function(t){return i.view.EGS.showConstruct(t)})}}(this))},e.prototype.setActiveDataSource=function(t,e){return null==e&&(e=null),console.log("setActiveDataSource",t),t?(t=t.split("/"),t=t[0]+"/"+t[1],this.dataSourceList.get(t)||this.dataSourceList.add([{source:t}]),this.activeSource=this.dataSourceList.get(t).setSelected(e)):this.dataSourceList.length?this.activeSource=this.dataSourceList.at(0).setSelected(e):void 0},e.prototype.setActiveConstruction=function(t,e){var n;return null==e&&(e=null),n=this.dataSourceList.selected,null!==n?(console.log("setActiveConstruction",t),n.get("constructions").get(t)||alert("ausgewählte Konstruktion nicht in Datenquelle definiert!"),this.activeConstruct=n.get("constructions").get(t).setSelected(e)):void 0},e.prototype.initialize=function(t){var e,r,i,a,l,c,h;console.log("App Init"),this.dataSourceList=new s([{source:t.defaultSource}],{app:this}),this.egsElementProvider=new u,r=n(23),this.view.PrimaryNav=new r(this.dataSourceList),i=n(24),this.view.SecondaryNav=new i(this),e=n(21),this.view.DataSource=new e(this),this.view.EGS=new o(this,"display"),l=this.view,c=[];for(a in l)h=l[a],null!=h.startup?c.push(h.startup()):c.push(void 0);return c},e.prototype.start=function(){return console.log("App start"),i.history.start()},e}(i.Router),h=n(53),h.setOnLoadCallback(function(t){var e;return e=document.getElementsByTagName("body")[0],p.App?void 0:(p.App=new r({defaultSource:e.getAttribute("data-defaultSource")}),p.App.start())}),h.load("visualization","1",{packages:["table"]})},function(t,e){t.exports=function(t,e,n){if(arguments.length<3)throw new Error("Handlebars Helper equal needs 2 parameters");return t!=e?n.inverse(this):n.fn(this)}},function(t,e,n){var r,i;(function(s){!function(a){var o="object"==typeof self&&self.self===self&&self||"object"==typeof s&&s.global===s&&s;r=[n(12),n(4),e],i=function(t,e,n){o.Backbone=a(o,n,t,e)}.apply(e,r),!(void 0!==i&&(t.exports=i))}(function(t,e,n,r){var i=t.Backbone,s=Array.prototype.slice;e.VERSION="1.3.3",e.$=r,e.noConflict=function(){return t.Backbone=i,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,r){switch(t){case 1:return function(){return n[e](this[r])};case 2:return function(t){return n[e](this[r],t)};case 3:return function(t,i){return n[e](this[r],u(t,this),i)};case 4:return function(t,i,s){return n[e](this[r],u(t,this),i,s)};default:return function(){var t=s.call(arguments);return t.unshift(this[r]),n[e].apply(n,t)}}},o=function(t,e,r){n.each(e,function(e,i){n[i]&&(t.prototype[i]=a(e,i,r))})},u=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?l(t):n.isString(t)?function(e){return e.get(t)}:t},l=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},h=/\s+/,p=function(t,e,r,i,s){var a,o=0;if(r&&"object"==typeof r){void 0!==i&&"context"in s&&void 0===s.context&&(s.context=i);for(a=n.keys(r);o<a.length;o++)e=p(t,e,a[o],r[a[o]],s)}else if(r&&h.test(r))for(a=r.split(h);o<a.length;o++)e=t(e,a[o],i,s);else e=t(e,r,i,s);return e};c.on=function(t,e,n){return f(this,t,e,n)};var f=function(t,e,n,r,i){if(t._events=p(d,t._events||{},e,n,{context:r,ctx:t,listening:i}),i){var s=t._listeners||(t._listeners={});s[i.id]=i}return t};c.listenTo=function(t,e,r){if(!t)return this;var i=t._listenId||(t._listenId=n.uniqueId("l")),s=this._listeningTo||(this._listeningTo={}),a=s[i];if(!a){var o=this._listenId||(this._listenId=n.uniqueId("l"));a=s[i]={obj:t,objId:i,id:o,listeningTo:s,count:0}}return f(t,e,r,this,a),this};var d=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),s=r.context,a=r.ctx,o=r.listening;o&&o.count++,i.push({callback:n,context:s,ctx:s||a,listening:o})}return t};c.off=function(t,e,n){return this._events?(this._events=p(v,this._events,t,e,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var s=t?[t._listenId]:n.keys(i),a=0;a<s.length;a++){var o=i[s[a]];if(!o)break;o.obj.off(e,r,this)}return this};var v=function(t,e,r,i){if(t){var s,a=0,o=i.context,u=i.listeners;if(e||r||o){for(var l=e?[e]:n.keys(t);a<l.length;a++){e=l[a];var c=t[e];if(!c)break;for(var h=[],p=0;p<c.length;p++){var f=c[p];r&&r!==f.callback&&r!==f.callback._callback||o&&o!==f.context?h.push(f):(s=f.listening,s&&0===--s.count&&(delete u[s.id],delete s.listeningTo[s.objId]))}h.length?t[e]=h:delete t[e]}return t}for(var d=n.keys(u);a<d.length;a++)s=u[d[a]],delete u[s.id],delete s.listeningTo[s.objId]}};c.once=function(t,e,r){var i=p(g,{},t,e,n.bind(this.off,this));return"string"==typeof t&&null==r&&(e=void 0),this.on(i,e,r)},c.listenToOnce=function(t,e,r){var i=p(g,{},e,r,n.bind(this.stopListening,this,t));return this.listenTo(t,i)};var g=function(t,e,r,i){if(r){var s=t[e]=n.once(function(){i(e,s),r.apply(this,arguments)});s._callback=r}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;e>r;r++)n[r]=arguments[r+1];return p(m,this._events,t,void 0,n),this};var m=function(t,e,n,r){if(t){var i=t[e],s=t.all;i&&s&&(s=s.slice()),i&&y(i,r),s&&y(s,[e].concat(r))}return t},y=function(t,e){var n,r=-1,i=t.length,s=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,s,a,o);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}};c.bind=c.on,c.unbind=c.off,n.extend(e,c);var b=e.Model=function(t,e){var r=t||{};e||(e={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(b.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;var i;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var s=r.unset,a=r.silent,o=[],u=this._changing;this._changing=!0,u||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,h=this._previousAttributes;for(var p in i)e=i[p],n.isEqual(l[p],e)||o.push(p),n.isEqual(h[p],e)?delete c[p]:c[p]=e,s?delete l[p]:l[p]=e;if(this.idAttribute in i&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=r);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,l[o[f]],r)}if(u)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return this.hasChanged()?n.clone(this.changed):!1;var e=this._changing?this._previousAttributes:this.attributes,r={};for(var i in t){var s=t[i];n.isEqual(e[i],s)||(r[i]=s)}return n.size(r)?r:!1},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;return e.set(i,t)?(r&&r.call(t.context,e,n,t),void e.trigger("sync",e,n,t)):!1},F(this,t),this.sync("read",this,t)},save:function(t,e,r){var i;null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e,r=n.extend({validate:!0,parse:!0},r);var s=r.wait;if(i&&!s){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,o=r.success,u=this.attributes;r.success=function(t){a.attributes=u;var e=r.parse?a.parse(t,r):t;return s&&(e=n.extend({},i,e)),e&&!a.set(e,r)?!1:(o&&o.call(r.context,a,t,r),void a.trigger("sync",a,t,r))},F(this,r),i&&s&&(this.attributes=n.extend({},u,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=u,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,s=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&s(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(F(this,t),a=this.sync("delete",this,t)),i||s(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||D();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return r?(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1):!0}});var w={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(b,w,"attributes");var _=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},M=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),s=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;s>r;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+s+n]=i[r]};n.extend(_.prototype,c,{model:b,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,S))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){e=n.extend({},x,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r=!n.isArray(t);t=r?[t]:t.slice();var i=e.at;null!=i&&(i=+i),i>this.length&&(i=this.length),0>i&&(i+=this.length+1);var s,a,o=[],u=[],l=[],c=[],h={},p=e.add,f=e.merge,d=e.remove,v=!1,g=this.comparator&&null==i&&e.sort!==!1,m=n.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){s=t[a];var y=this.get(s);if(y){if(f&&s!==y){var b=this._isModel(s)?s.attributes:s;e.parse&&(b=y.parse(b,e)),y.set(b,e),l.push(y),g&&!v&&(v=y.hasChanged(m))}h[y.cid]||(h[y.cid]=!0,o.push(y)),t[a]=y}else p&&(s=t[a]=this._prepareModel(s,e),s&&(u.push(s),this._addReference(s,e),h[s.cid]=!0,o.push(s)))}if(d){for(a=0;a<this.length;a++)s=this.models[a],h[s.cid]||c.push(s);c.length&&this._removeModels(c,e)}var w=!1,_=!g&&p&&d;if(o.length&&_?(w=this.length!==o.length||n.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,M(this.models,o,0),this.length=this.models.length):u.length&&(g&&(v=!0),M(this.models,u,null==i?this.length:i),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<u.length;a++)null!=i&&(e.index=i+a),s=u[a],s.trigger("add",s,this,e);(v||w)&&this.trigger("sort",this,e),(u.length||c.length||l.length)&&(e.changes={added:u,removed:c,merged:l},this.trigger("update",this,e))}return r?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return s.apply(this.models,arguments)},get:function(t){return null!=t?this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]:void 0},has:function(t){return null!=this.get(t)},at:function(t){return 0>t&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=n.bind(e,this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=n.extend({parse:!0},t);var e=t.success,r=this;return t.success=function(n){var i=t.reset?"reset":"set";r[i](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},F(this,t),this.sync("read",this,t)},create:function(t,e){e=e?n.clone(e):{};var r=e.wait;if(t=this._prepareModel(t,e),!t)return!1;r||this.add(t,e);var i=this,s=e.success;return e.success=function(t,e,n){r&&i.add(t,n),s&&s.call(n.context,t,e,n)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?n.clone(e):{},e.collection=this;var r=new this.model(t,e);return r.validationError?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var s=this.indexOf(i);this.models.splice(s,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=s,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return n},_isModel:function(t){return t instanceof b},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"change"===t){var i=this.modelId(e.previousAttributes()),s=this.modelId(e.attributes);i!==s&&(null!=i&&delete this._byId[i],null!=s&&(this._byId[s]=e))}}this.trigger.apply(this,arguments)}});var E={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(_,E,"models");var k=e.View=function(t){this.cid=n.uniqueId("view"),n.extend(this,n.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},I=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];n.extend(k.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(I);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,r,i){var s=R[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:s,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||D()),null!=i.data||!r||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===s||"DELETE"===s||"PATCH"===s)){a.type="POST",i.emulateJSON&&(a.data._method=s);var o=i.beforeSend;i.beforeSend=function(t){return t.setRequestHeader("X-HTTP-Method-Override",s),o?o.apply(this,arguments):void 0}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var u=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,u&&u.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var R={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var A=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,T=/(\(\?)?:\w+/g,O=/\*\w+/g,H=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(A.prototype,c,{initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var s=this;return e.history.route(t,function(n){var a=s._extractParameters(t,n);s.execute(i,a,r)!==!1&&(s.trigger.apply(s,["route:"+r].concat(a)),s.trigger("route",r,a),e.history.trigger("route",s,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(H,"\\$&").replace(C,"(?:$1)?").replace(T,function(t,e){return e?t:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var j=e.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,V=/#.*$/;j.started=!1,n.extend(j.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(L,"")},start:function(t){if(j.started)throw new Error("Backbone.history has already been started");if(j.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(N,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var s=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};return this._usePushState?s("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?s("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.options.silent?void 0:this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),j.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){return e.route.test(t)?(e.callback(t),!0):void 0})):!1},navigate:function(t,e){if(!j.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;if(t=this.decodeFragment(t.replace(V,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var i=this.iframe.contentWindow;e.replace||(i.document.open(),i.document.close()),this._updateHash(i.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new j;var B=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};b.extend=_.extend=A.extend=k.extend=j.extend=B;var D=function(){throw new Error('A "url" property or function must be specified')},F=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e})}).call(e,function(){return this}())},function(t,e){"use strict";function n(t){return c[t]}function r(t){for(var e=1;e<arguments.length;e++)for(var n in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],n)&&(t[n]=arguments[e][n]);return t}function i(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1}function s(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return p.test(t)?t.replace(h,n):t}function a(t){return t||0===t?!(!v(t)||0!==t.length):!0}function o(t){var e=r({},t);return e._parent=t,e}function u(t,e){return t.path=e,t}function l(t,e){return(t?t+".":"")+e}e.__esModule=!0,e.extend=r,e.indexOf=i,e.escapeExpression=s,e.isEmpty=a,e.createFrame=o,e.blockParams=u,e.appendContextPath=l;var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},h=/[&<>"'`=]/g,p=/[&<>"'`=]/,f=Object.prototype.toString;e.toString=f;var d=function(t){return"function"==typeof t};d(/x/)&&(e.isFunction=d=function(t){return"function"==typeof t&&"[object Function]"===f.call(t)}),e.isFunction=d;var v=Array.isArray||function(t){return t&&"object"==typeof t?"[object Array]"===f.call(t):!1};e.isArray=v},,function(t,e){"use strict";function n(t,e){var i=e&&e.loc,s=void 0,a=void 0;i&&(s=i.start.line,a=i.start.column,t+=" - "+s+":"+a);for(var o=Error.prototype.constructor.call(this,t),u=0;u<r.length;u++)this[r[u]]=o[r[u]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=s,this.column=a)}e.__esModule=!0;var r=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,e["default"]=n,t.exports=e["default"]},,function(t,e){t.exports=function(t,e,n){var r,i,s;return null==e&&(e=!1),null==n&&(n=null),s=new RegExp("spreadsheets/d/([^/]+)[^#]*(?:#.*gid=([0-9]+).*)?"),(i=s.exec(t))?(i[2]&&(r=i[2]),[i[1],r]):(s=new RegExp("([0-9]+)"),i=s.exec(t),i&&n?(n=n.split("/"),i[1]&&(r=i[1]),[n[0],r]):(s=new RegExp("([^/]+)(?:/([0-9]+))?"),(i=s.exec(t))?(i[2]&&(r=i[2]),[i[1],r]):e?!1:(alert("Ungültige Datenquelle: In '"+t+"' konnte nicht der Tabellen-Key gefunden werden!"),["",0])))}},function(t,e,n){var r,i,s,a,o=function(t,e){function n(){this.constructor=t}for(var r in e)u.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},u={}.hasOwnProperty;r=n(2),i=n(15),a=n(7),t.exports=s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return o(e,t),e.prototype.app=null,e.prototype.fetched=!1,e.prototype.dataTable=null,e.prototype.columns={sheet:"Blatt-Link (gid)",name:"Konstruktion",desc:"Beschreibung"},e.prototype.idAttribute="source",e.prototype.initialize=function(t,e){return this.app=e.collection.app,this.set("constructions",new i([],{app:this.app}))},e.prototype.setSelected=function(t){return this.collection.setSelected(this),this.fetched?t?t(this):void 0:this.fetch({success:function(e){return function(){return e.fetched=!0,t?t(e):void 0}}(this)})},e.prototype.set=function(t,e){return t.source&&(t.source=a(t.source).join("/")),r.Model.prototype.set.call(this,t,e)},e.prototype.parse=function(t){var e,n,r,s,o,u,l,c,h,p,f,d,v;this.dataTable=t.getDataTable(),s=this.dataTable.getColumnLabel(0).length?0:1,l=0===s;for(h in this.columns)this.columns[h]===this.dataTable.getColumnLabel(0)&&(l=!1);if(l)return{constructions:new i([{name:"Konstruktion",desc:"",sheet:this.id}])};for(r=[],p=o=f=s,d=this.dataTable.getNumberOfRows();d>=f?d>o:o>d;p=d>=f?++o:--o){n={};for(h in this.columns){for(u=function(t){return t},"sheet"===h&&(u=function(t){return function(e){return[t.id,a(e,!1,t.id).join("/")].join("/")}}(this)),e=c=0,v=this.dataTable.getNumberOfColumns();v>=0?v>c:c>v;e=v>=0?++c:--c)(s&&this.dataTable.getValue(0,e)===this.columns[h]||this.dataTable.getColumnLabel(e)===this.columns[h])&&(n[h]=u(this.dataTable.getValue(p,e)));if(!n[h])return void alert("Übersichtstabelle: Spalte '"+this.columns[h]+"' wurde nicht in der Tabelle gefunden!")}r.push(n)}return console.log("DataSource: loaded construction list: ",r),{constructions:new i(r,{app:this.app})}},e}(r.Model)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t,e,n){this.helpers=t||{},this.partials=e||{},this.decorators=n||{},u.registerDefaultHelpers(this),l.registerDefaultDecorators(this)}e.__esModule=!0,e.HandlebarsEnvironment=i;var s=n(3),a=n(5),o=r(a),u=n(32),l=n(30),c=n(40),h=r(c),p="4.0.5";e.VERSION=p;var f=7;e.COMPILER_REVISION=f;var d={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0"};e.REVISION_CHANGES=d;var v="[object Object]";i.prototype={constructor:i,logger:h["default"],log:h["default"].log,registerHelper:function(t,e){if(s.toString.call(t)===v){if(e)throw new o["default"]("Arg not supported with multiple helpers");s.extend(this.helpers,t)}else this.helpers[t]=e},unregisterHelper:function(t){delete this.helpers[t]},registerPartial:function(t,e){if(s.toString.call(t)===v)s.extend(this.partials,t);else{if("undefined"==typeof e)throw new o["default"]('Attempting to register a partial called "'+t+'" as undefined');this.partials[t]=e}},unregisterPartial:function(t){delete this.partials[t]},registerDecorator:function(t,e){if(s.toString.call(t)===v){if(e)throw new o["default"]("Arg not supported with multiple decorators");s.extend(this.decorators,t)}else this.decorators[t]=e},unregisterDecorator:function(t){delete this.decorators[t]}};var g=h["default"].log;e.log=g,e.createFrame=s.createFrame,e.logger=h["default"]},function(t,e,n){t.exports=n(29)["default"]},,function(t,e,n){var r,i;(function(){function n(t){function e(e,n,r,i,s,a){for(;s>=0&&a>s;s+=t){var o=i?i[s]:s;r=n(r,e[o],o,e)}return r}return function(n,r,i,s){r=S(r,s,4);var a=!A(n)&&x.keys(n),o=(a||n).length,u=t>0?0:o-1;return arguments.length<3&&(i=n[a?a[u]:u],u+=t),e(n,r,i,a,u,o)}}function s(t){return function(e,n,r){n=M(n,r);for(var i=R(e),s=t>0?0:i-1;s>=0&&i>s;s+=t)if(n(e[s],s,e))return s;return-1}}function a(t,e,n){return function(r,i,s){var a=0,o=R(r);if("number"==typeof s)t>0?a=s>=0?s:Math.max(s+o,a):o=s>=0?Math.min(s+1,o):s+o+1;else if(n&&s&&o)return s=n(r,i),r[s]===i?s:-1;if(i!==i)return s=e(d.call(r,a,o),x.isNaN),s>=0?s+a:-1;for(s=t>0?a:o-1;s>=0&&o>s;s+=t)if(r[s]===i)return s;return-1}}function o(t,e){var n=j.length,r=t.constructor,i=x.isFunction(r)&&r.prototype||h,s="constructor";for(x.has(t,s)&&!x.contains(e,s)&&e.push(s);n--;)s=j[n],s in t&&t[s]!==i[s]&&!x.contains(e,s)&&e.push(s);
}var u=this,l=u._,c=Array.prototype,h=Object.prototype,p=Function.prototype,f=c.push,d=c.slice,v=h.toString,g=h.hasOwnProperty,m=Array.isArray,y=Object.keys,b=p.bind,w=Object.create,_=function(){},x=function(t){return t instanceof x?t:this instanceof x?void(this._wrapped=t):new x(t)};"undefined"!=typeof t&&t.exports&&(e=t.exports=x),e._=x,x.VERSION="1.8.3";var S=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,s){return t.call(e,n,r,i,s)}}return function(){return t.apply(e,arguments)}},M=function(t,e,n){return null==t?x.identity:x.isFunction(t)?S(t,e,n):x.isObject(t)?x.matcher(t):x.property(t)};x.iteratee=function(t,e){return M(t,e,1/0)};var E=function(t,e){return function(n){var r=arguments.length;if(2>r||null==n)return n;for(var i=1;r>i;i++)for(var s=arguments[i],a=t(s),o=a.length,u=0;o>u;u++){var l=a[u];e&&void 0!==n[l]||(n[l]=s[l])}return n}},k=function(t){if(!x.isObject(t))return{};if(w)return w(t);_.prototype=t;var e=new _;return _.prototype=null,e},I=function(t){return function(e){return null==e?void 0:e[t]}},P=Math.pow(2,53)-1,R=I("length"),A=function(t){var e=R(t);return"number"==typeof e&&e>=0&&P>=e};x.each=x.forEach=function(t,e,n){e=S(e,n);var r,i;if(A(t))for(r=0,i=t.length;i>r;r++)e(t[r],r,t);else{var s=x.keys(t);for(r=0,i=s.length;i>r;r++)e(t[s[r]],s[r],t)}return t},x.map=x.collect=function(t,e,n){e=M(e,n);for(var r=!A(t)&&x.keys(t),i=(r||t).length,s=Array(i),a=0;i>a;a++){var o=r?r[a]:a;s[a]=e(t[o],o,t)}return s},x.reduce=x.foldl=x.inject=n(1),x.reduceRight=x.foldr=n(-1),x.find=x.detect=function(t,e,n){var r;return r=A(t)?x.findIndex(t,e,n):x.findKey(t,e,n),void 0!==r&&-1!==r?t[r]:void 0},x.filter=x.select=function(t,e,n){var r=[];return e=M(e,n),x.each(t,function(t,n,i){e(t,n,i)&&r.push(t)}),r},x.reject=function(t,e,n){return x.filter(t,x.negate(M(e)),n)},x.every=x.all=function(t,e,n){e=M(e,n);for(var r=!A(t)&&x.keys(t),i=(r||t).length,s=0;i>s;s++){var a=r?r[s]:s;if(!e(t[a],a,t))return!1}return!0},x.some=x.any=function(t,e,n){e=M(e,n);for(var r=!A(t)&&x.keys(t),i=(r||t).length,s=0;i>s;s++){var a=r?r[s]:s;if(e(t[a],a,t))return!0}return!1},x.contains=x.includes=x.include=function(t,e,n,r){return A(t)||(t=x.values(t)),("number"!=typeof n||r)&&(n=0),x.indexOf(t,e,n)>=0},x.invoke=function(t,e){var n=d.call(arguments,2),r=x.isFunction(e);return x.map(t,function(t){var i=r?e:t[e];return null==i?i:i.apply(t,n)})},x.pluck=function(t,e){return x.map(t,x.property(e))},x.where=function(t,e){return x.filter(t,x.matcher(e))},x.findWhere=function(t,e){return x.find(t,x.matcher(e))},x.max=function(t,e,n){var r,i,s=-(1/0),a=-(1/0);if(null==e&&null!=t){t=A(t)?t:x.values(t);for(var o=0,u=t.length;u>o;o++)r=t[o],r>s&&(s=r)}else e=M(e,n),x.each(t,function(t,n,r){i=e(t,n,r),(i>a||i===-(1/0)&&s===-(1/0))&&(s=t,a=i)});return s},x.min=function(t,e,n){var r,i,s=1/0,a=1/0;if(null==e&&null!=t){t=A(t)?t:x.values(t);for(var o=0,u=t.length;u>o;o++)r=t[o],s>r&&(s=r)}else e=M(e,n),x.each(t,function(t,n,r){i=e(t,n,r),(a>i||i===1/0&&s===1/0)&&(s=t,a=i)});return s},x.shuffle=function(t){for(var e,n=A(t)?t:x.values(t),r=n.length,i=Array(r),s=0;r>s;s++)e=x.random(0,s),e!==s&&(i[s]=i[e]),i[e]=n[s];return i},x.sample=function(t,e,n){return null==e||n?(A(t)||(t=x.values(t)),t[x.random(t.length-1)]):x.shuffle(t).slice(0,Math.max(0,e))},x.sortBy=function(t,e,n){return e=M(e,n),x.pluck(x.map(t,function(t,n,r){return{value:t,index:n,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(r>n||void 0===r)return-1}return t.index-e.index}),"value")};var C=function(t){return function(e,n,r){var i={};return n=M(n,r),x.each(e,function(r,s){var a=n(r,s,e);t(i,r,a)}),i}};x.groupBy=C(function(t,e,n){x.has(t,n)?t[n].push(e):t[n]=[e]}),x.indexBy=C(function(t,e,n){t[n]=e}),x.countBy=C(function(t,e,n){x.has(t,n)?t[n]++:t[n]=1}),x.toArray=function(t){return t?x.isArray(t)?d.call(t):A(t)?x.map(t,x.identity):x.values(t):[]},x.size=function(t){return null==t?0:A(t)?t.length:x.keys(t).length},x.partition=function(t,e,n){e=M(e,n);var r=[],i=[];return x.each(t,function(t,n,s){(e(t,n,s)?r:i).push(t)}),[r,i]},x.first=x.head=x.take=function(t,e,n){return null!=t?null==e||n?t[0]:x.initial(t,t.length-e):void 0},x.initial=function(t,e,n){return d.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},x.last=function(t,e,n){return null!=t?null==e||n?t[t.length-1]:x.rest(t,Math.max(0,t.length-e)):void 0},x.rest=x.tail=x.drop=function(t,e,n){return d.call(t,null==e||n?1:e)},x.compact=function(t){return x.filter(t,x.identity)};var T=function(t,e,n,r){for(var i=[],s=0,a=r||0,o=R(t);o>a;a++){var u=t[a];if(A(u)&&(x.isArray(u)||x.isArguments(u))){e||(u=T(u,e,n));var l=0,c=u.length;for(i.length+=c;c>l;)i[s++]=u[l++]}else n||(i[s++]=u)}return i};x.flatten=function(t,e){return T(t,e,!1)},x.without=function(t){return x.difference(t,d.call(arguments,1))},x.uniq=x.unique=function(t,e,n,r){x.isBoolean(e)||(r=n,n=e,e=!1),null!=n&&(n=M(n,r));for(var i=[],s=[],a=0,o=R(t);o>a;a++){var u=t[a],l=n?n(u,a,t):u;e?(a&&s===l||i.push(u),s=l):n?x.contains(s,l)||(s.push(l),i.push(u)):x.contains(i,u)||i.push(u)}return i},x.union=function(){return x.uniq(T(arguments,!0,!0))},x.intersection=function(t){for(var e=[],n=arguments.length,r=0,i=R(t);i>r;r++){var s=t[r];if(!x.contains(e,s)){for(var a=1;n>a&&x.contains(arguments[a],s);a++);a===n&&e.push(s)}}return e},x.difference=function(t){var e=T(arguments,!0,!0,1);return x.filter(t,function(t){return!x.contains(e,t)})},x.zip=function(){return x.unzip(arguments)},x.unzip=function(t){for(var e=t&&x.max(t,R).length||0,n=Array(e),r=0;e>r;r++)n[r]=x.pluck(t,r);return n},x.object=function(t,e){for(var n={},r=0,i=R(t);i>r;r++)e?n[t[r]]=e[r]:n[t[r][0]]=t[r][1];return n},x.findIndex=s(1),x.findLastIndex=s(-1),x.sortedIndex=function(t,e,n,r){n=M(n,r,1);for(var i=n(e),s=0,a=R(t);a>s;){var o=Math.floor((s+a)/2);n(t[o])<i?s=o+1:a=o}return s},x.indexOf=a(1,x.findIndex,x.sortedIndex),x.lastIndexOf=a(-1,x.findLastIndex),x.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),s=0;r>s;s++,t+=n)i[s]=t;return i};var O=function(t,e,n,r,i){if(!(r instanceof e))return t.apply(n,i);var s=k(t.prototype),a=t.apply(s,i);return x.isObject(a)?a:s};x.bind=function(t,e){if(b&&t.bind===b)return b.apply(t,d.call(arguments,1));if(!x.isFunction(t))throw new TypeError("Bind must be called on a function");var n=d.call(arguments,2),r=function(){return O(t,r,e,this,n.concat(d.call(arguments)))};return r},x.partial=function(t){var e=d.call(arguments,1),n=function(){for(var r=0,i=e.length,s=Array(i),a=0;i>a;a++)s[a]=e[a]===x?arguments[r++]:e[a];for(;r<arguments.length;)s.push(arguments[r++]);return O(t,n,this,this,s)};return n},x.bindAll=function(t){var e,n,r=arguments.length;if(1>=r)throw new Error("bindAll must be passed function names");for(e=1;r>e;e++)n=arguments[e],t[n]=x.bind(t[n],t);return t},x.memoize=function(t,e){var n=function(r){var i=n.cache,s=""+(e?e.apply(this,arguments):r);return x.has(i,s)||(i[s]=t.apply(this,arguments)),i[s]};return n.cache={},n},x.delay=function(t,e){var n=d.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},x.defer=x.partial(x.delay,x,1),x.throttle=function(t,e,n){var r,i,s,a=null,o=0;n||(n={});var u=function(){o=n.leading===!1?0:x.now(),a=null,s=t.apply(r,i),a||(r=i=null)};return function(){var l=x.now();o||n.leading!==!1||(o=l);var c=e-(l-o);return r=this,i=arguments,0>=c||c>e?(a&&(clearTimeout(a),a=null),o=l,s=t.apply(r,i),a||(r=i=null)):a||n.trailing===!1||(a=setTimeout(u,c)),s}},x.debounce=function(t,e,n){var r,i,s,a,o,u=function(){var l=x.now()-a;e>l&&l>=0?r=setTimeout(u,e-l):(r=null,n||(o=t.apply(s,i),r||(s=i=null)))};return function(){s=this,i=arguments,a=x.now();var l=n&&!r;return r||(r=setTimeout(u,e)),l&&(o=t.apply(s,i),s=i=null),o}},x.wrap=function(t,e){return x.partial(e,t)},x.negate=function(t){return function(){return!t.apply(this,arguments)}},x.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}},x.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},x.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},x.once=x.partial(x.before,2);var H=!{toString:null}.propertyIsEnumerable("toString"),j=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];x.keys=function(t){if(!x.isObject(t))return[];if(y)return y(t);var e=[];for(var n in t)x.has(t,n)&&e.push(n);return H&&o(t,e),e},x.allKeys=function(t){if(!x.isObject(t))return[];var e=[];for(var n in t)e.push(n);return H&&o(t,e),e},x.values=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=t[e[i]];return r},x.mapObject=function(t,e,n){e=M(e,n);for(var r,i=x.keys(t),s=i.length,a={},o=0;s>o;o++)r=i[o],a[r]=e(t[r],r,t);return a},x.pairs=function(t){for(var e=x.keys(t),n=e.length,r=Array(n),i=0;n>i;i++)r[i]=[e[i],t[e[i]]];return r},x.invert=function(t){for(var e={},n=x.keys(t),r=0,i=n.length;i>r;r++)e[t[n[r]]]=n[r];return e},x.functions=x.methods=function(t){var e=[];for(var n in t)x.isFunction(t[n])&&e.push(n);return e.sort()},x.extend=E(x.allKeys),x.extendOwn=x.assign=E(x.keys),x.findKey=function(t,e,n){e=M(e,n);for(var r,i=x.keys(t),s=0,a=i.length;a>s;s++)if(r=i[s],e(t[r],r,t))return r},x.pick=function(t,e,n){var r,i,s={},a=t;if(null==a)return s;x.isFunction(e)?(i=x.allKeys(a),r=S(e,n)):(i=T(arguments,!1,!1,1),r=function(t,e,n){return e in n},a=Object(a));for(var o=0,u=i.length;u>o;o++){var l=i[o],c=a[l];r(c,l,a)&&(s[l]=c)}return s},x.omit=function(t,e,n){if(x.isFunction(e))e=x.negate(e);else{var r=x.map(T(arguments,!1,!1,1),String);e=function(t,e){return!x.contains(r,e)}}return x.pick(t,e,n)},x.defaults=E(x.allKeys,!0),x.create=function(t,e){var n=k(t);return e&&x.extendOwn(n,e),n},x.clone=function(t){return x.isObject(t)?x.isArray(t)?t.slice():x.extend({},t):t},x.tap=function(t,e){return e(t),t},x.isMatch=function(t,e){var n=x.keys(e),r=n.length;if(null==t)return!r;for(var i=Object(t),s=0;r>s;s++){var a=n[s];if(e[a]!==i[a]||!(a in i))return!1}return!0};var L=function(t,e,n,r){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof x&&(t=t._wrapped),e instanceof x&&(e=e._wrapped);var i=v.call(t);if(i!==v.call(e))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var s="[object Array]"===i;if(!s){if("object"!=typeof t||"object"!=typeof e)return!1;var a=t.constructor,o=e.constructor;if(a!==o&&!(x.isFunction(a)&&a instanceof a&&x.isFunction(o)&&o instanceof o)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],r=r||[];for(var u=n.length;u--;)if(n[u]===t)return r[u]===e;if(n.push(t),r.push(e),s){if(u=t.length,u!==e.length)return!1;for(;u--;)if(!L(t[u],e[u],n,r))return!1}else{var l,c=x.keys(t);if(u=c.length,x.keys(e).length!==u)return!1;for(;u--;)if(l=c[u],!x.has(e,l)||!L(t[l],e[l],n,r))return!1}return n.pop(),r.pop(),!0};x.isEqual=function(t,e){return L(t,e)},x.isEmpty=function(t){return null==t?!0:A(t)&&(x.isArray(t)||x.isString(t)||x.isArguments(t))?0===t.length:0===x.keys(t).length},x.isElement=function(t){return!(!t||1!==t.nodeType)},x.isArray=m||function(t){return"[object Array]"===v.call(t)},x.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},x.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){x["is"+t]=function(e){return v.call(e)==="[object "+t+"]"}}),x.isArguments(arguments)||(x.isArguments=function(t){return x.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(x.isFunction=function(t){return"function"==typeof t||!1}),x.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},x.isNaN=function(t){return x.isNumber(t)&&t!==+t},x.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===v.call(t)},x.isNull=function(t){return null===t},x.isUndefined=function(t){return void 0===t},x.has=function(t,e){return null!=t&&g.call(t,e)},x.noConflict=function(){return u._=l,this},x.identity=function(t){return t},x.constant=function(t){return function(){return t}},x.noop=function(){},x.property=I,x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matcher=x.matches=function(t){return t=x.extendOwn({},t),function(e){return x.isMatch(e,t)}},x.times=function(t,e,n){var r=Array(Math.max(0,t));e=S(e,n,1);for(var i=0;t>i;i++)r[i]=e(i);return r},x.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},x.now=Date.now||function(){return(new Date).getTime()};var N={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},V=x.invert(N),B=function(t){var e=function(e){return t[e]},n="(?:"+x.keys(t).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(t){return t=null==t?"":""+t,r.test(t)?t.replace(i,e):t}};x.escape=B(N),x.unescape=B(V),x.result=function(t,e,n){var r=null==t?void 0:t[e];return void 0===r&&(r=n),x.isFunction(r)?r.call(t):r};var D=0;x.uniqueId=function(t){var e=++D+"";return t?t+e:e},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},z=/\\|'|\r|\n|\u2028|\u2029/g,$=function(t){return"\\"+G[t]};x.template=function(t,e,n){!e&&n&&(e=n),e=x.defaults({},e,x.templateSettings);var r=RegExp([(e.escape||F).source,(e.interpolate||F).source,(e.evaluate||F).source].join("|")+"|$","g"),i=0,s="__p+='";t.replace(r,function(e,n,r,a,o){return s+=t.slice(i,o).replace(z,$),i=o+e.length,n?s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?s+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),e}),s+="';\n",e.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{var a=new Function(e.variable||"obj","_",s)}catch(o){throw o.source=s,o}var u=function(t){return a.call(this,t,x)},l=e.variable||"obj";return u.source="function("+l+"){\n"+s+"}",u},x.chain=function(t){var e=x(t);return e._chain=!0,e};var U=function(t,e){return t._chain?x(e).chain():e};x.mixin=function(t){x.each(x.functions(t),function(e){var n=x[e]=t[e];x.prototype[e]=function(){var t=[this._wrapped];return f.apply(t,arguments),U(this,n.apply(x,t))}})},x.mixin(x),x.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=c[t];x.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],U(this,n)}}),x.each(["concat","join","slice"],function(t){var e=c[t];x.prototype[t]=function(){return U(this,e.apply(this._wrapped,arguments))}}),x.prototype.value=function(){return this._wrapped},x.prototype.valueOf=x.prototype.toJSON=x.prototype.value,x.prototype.toString=function(){return""+this._wrapped},r=[],i=function(){return x}.apply(e,r),!(void 0!==i&&(t.exports=i))}).call(this)},,,function(t,e,n){var r,i,s,a=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=n(2),i=n(19),t.exports=s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.app=null,e.prototype.model=i,e.prototype.selected=null,e.prototype.setSelected=function(t){return console.log("CL select: ",t,this.selected),t!==this.selected?(this.selected&&this.trigger("unselect",this.selected),this.selected=t,console.log("CL triggered select"),this.trigger("select",this.selected),this.selected.fetched?this.trigger("sync"):void 0):void 0},e.prototype.initialize=function(t,e){return this.app=e.app},e}(r.Collection)},function(t,e,n){var r,i,s,a=function(t,e){function n(){this.constructor=t}for(var r in e)o.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},o={}.hasOwnProperty;r=n(2),i=n(8),t.exports=s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return a(e,t),e.prototype.app=null,e.prototype.model=i,e.prototype.selected=null,e.prototype.setSelected=function(t){return t!==this.selected?(this.selected&&this.trigger("unselect",this.selected),this.selected=t,this.trigger("select",this.selected),this.selected.fetched?this.trigger("sync"):void 0):void 0},e.prototype.initialize=function(t,e){return this.app=e.app,console.log("init DataSourceList",this.app)},e}(r.Collection)},function(t,e,n){var r,i,s=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(2),i=n(20),t.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.model=i,e.prototype.initialize=function(t,e){return this.app=e.app},e}(r.Collection)},function(t,e,n){var r,i,s=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;i=n(6),n(52),i.ThreadCurve=function(t){function e(t,n,r){this.height=t,this.pitch=n,this.radius=r,e.__super__.constructor.call(this)}return s(e,t),e.prototype.getPoint=function(t){return t=t*this.height/this.pitch,new i.Vector3(this.radius*Math.cos(2*Math.PI*(t-Math.floor(t))),this.radius*Math.sin(2*Math.PI*(t-Math.floor(t))),t*this.pitch)},e}(i.Curve),i.CustomGeometry=function(t){function e(t,n){var r,s,a,o,u,l;for(e.__super__.constructor.call(this),s=0,o=t.length;o>s;s++)l=t[s],this.vertices.push(new i.Vector3(l[0],l[1],l[2]));for(a=0,u=n.length;u>a;a++)r=n[a],this.faces.push(new i.Face3(r[0],r[1],r[2]));this.computeBoundingSphere(),this.computeFaceNormals(),this.computeVertexNormals(),this.calcUVs()}return s(e,t),e.prototype.calcUVs=function(){var t,e,n,r,s,a,o,u,l,c,h;for(this.computeBoundingBox(),r=this.boundingBox.max,s=this.boundingBox.min,a=new i.Vector2(0-s.x,0-s.y),o=new i.Vector2(r.x-s.x,r.y-s.y),this.faceVertexUvs[0]=[],t=this.faces,e=n=0,u=this.faces.length;u>=0?u>n:n>u;e=u>=0?++n:--n)l=this.vertices[this.faces[e].a],c=this.vertices[this.faces[e].b],h=this.vertices[this.faces[e].c],this.faceVertexUvs[0].push([new i.Vector2((l.x+a.x)/o.x,(l.y+a.y)/o.y),new i.Vector2((c.x+a.x)/o.x,(c.y+a.y)/o.y),new i.Vector2((h.x+a.x)/o.x,(h.y+a.y)/o.y)]);return this.uvsNeedUpdate=!0},e}(i.Geometry),r=function(){function t(){console.log("EGS_Elements constructed")}var e,n,r,s,a,o,u,l,c,h,p,f,d,v,g,m,y,b,w,_,x,S,M,E,k,I,P,R,A,C,T,O,H,j,L,N;return o=8,a=.5*Math.PI,r=Math.PI,s=2*Math.PI,m=new i.Vector3(1,0,0),y=new i.Vector3(0,1,0),b=new i.Vector3(0,0,1),f=123.6,h=48.3,p=45.1,d=9,O=function(t,e,n,r,s){var o;return o=(new i.Matrix4).makeTranslation(t,e,n),"X"===r&&o.multiply((new i.Matrix4).makeRotationX(s*a)),"Y"===r&&o.multiply((new i.Matrix4).makeRotationY(s*a)),"Z"===r&&o.multiply((new i.Matrix4).makeRotationZ(s*a)),o},k=function(t,e,n,r){var s,a;return s=new i.CircleGeometry(r,o),a=s.vertices,a.push(new i.Vector3(t/2,e/2,n)),a.push(new i.Vector3(-t/2,e/2,n)),a.push(new i.Vector3(-t/2,-e/2,n)),a.push(new i.Vector3(t/2,-e/2,n)),new i.ConvexGeometry(a)},R=function(t,e,n){var r,a;return a=new i.Shape,a.absarc(0,0,t/2,0,s,!0),e&&(r=new i.Path,r.absarc(0,0,e/2,0,s,!0),a.holes.push(r)),a.extrude({amount:n,steps:1,bevelEnabled:!1,curveSegments:o})},A=function(t,e,n){var r,a;return a=new i.Shape,a.absarc(0,0,t/2,0,s,!0),e&&(r=new i.Path,r.absarc(0,0,e/2,0,s,!0),a.holes.push(r)),a.extrude({steps:10,extrudePath:n})},N=function(t){var e,n,r,a,u,l;return o>=16?(a=13,r=8):(a=18,r=15),u=new i.Shape,u.absarc(0,0,a,0,s,!0),r&&(n=new i.Path,n.absarc(0,0,r,0,s,!0),u.holes.push(n)),e=u.extrude({amount:t,steps:1,bevelEnabled:!1,curveSegments:o}),o>=16&&(t-=10,l=new i.TubeGeometry(new i.ThreadCurve(t,10,13),o*t/10,4),e.merge(l,O(0,0,5))),e},H=function(t){return R(h,p,t)},w=function(){var t;return t=new i.Geometry,t.merge(H(165),O(0,0,-65)),t.merge(L()),t.merge(R(55,49,170),O(0,0,95)),t.applyMatrix(O(0,0,0,"X",-1)),t},I=function(t){var e,n,r,s,a;return s=new i.Shape,a=30,n=25,r=33,s.moveTo(0,0),s.lineTo(30,0),s.arc(25,0,n,0,Math.PI),s.lineTo(17+r+r,0),s.arc(-33,0,r,.7*Math.PI,0),s.lineTo(30,35),s.lineTo(0,35),s.lineTo(0,0),e=s.extrude({amount:40,steps:1,bevelEnabled:!1,curveSegments:o}),e.applyMatrix(O(t,0,55,"Y",1)),e},P=function(t,e){var n,r,s;return r=50,s=[[0,45,r],[e,45,r],[e,45,t-r],[0,45,t-r],[0,-30,r],[e,-30,r],[e,-30,t-r],[0,-30,t-r],[5,-30,r+5],[e-5,-30,r+5],[e-5,-30,t-r-5],[5,-30,t-r-5],[5,40,r+5],[e-5,40,r+5],[e-5,40,t-r-5],[5,40,t-r-5]],n=[[0,2,1],[0,3,2],[12,13,14],[12,14,15],[0,1,5],[0,5,4],[1,2,6],[1,6,5],[2,3,7],[2,7,6],[3,0,4],[3,4,7],[4,5,9],[4,9,8],[5,6,10],[5,10,9],[6,7,11],[6,11,10],[7,4,8],[7,8,11],[8,9,13],[8,13,12],[9,10,14],[9,14,13],[10,11,15],[10,15,14],[11,8,12],[11,12,15]],new i.CustomGeometry(s,n)},_=function(t,e,n){var r;return null==n&&(n=0),r=new i.Geometry,r.merge(I(1),O(60,0,0)),r.merge(I(1),O(e-60,0,0)),r.merge(P(t,e),O(0,0,0)),r.merge(I(1),O(60,0,t,"Y",2)),r.merge(I(1),O(e-60,0,t,"Y",2)),r.applyMatrix(O(55+n,0,0)),r},C=function(t,e){var n,r,s,a,o,u,l,c;for(null==e&&(e=1),c=35,l=[[25,7,38],[26,0,38],[25,-7,38],[25,7,11],[26,0,11],[25,-7,11],[25,7,-1],[26,0,-1],[25,-7,-1],[25,7,-35],[26,0,-35],[25,-7,-35],[65,12,24],[65,-12,24],[65,22,11],[65,-22,11],[65,22,-1],[65,-22,-1],[65,12,-24],[65,-12,-24],[65,1*e,20],[65,1*e,-20],[65,11*e,-20],[65,11*e,20],[65+c,1*e+c*e,20],[65+c,1*e+c*e,-20],[65+c-5,6*e+c*e,-20],[65+c-5,6*e+c*e,20]],n=[[0,1,12],[1,13,12],[1,2,13],[9,18,10],[10,18,19],[10,19,11],[1,0,4],[4,0,3],[2,1,5],[5,1,4],[7,6,10],[10,6,9],[8,7,11],[11,7,10],[4,3,14],[4,14,15],[5,4,15],[6,7,16],[7,17,16],[7,8,17],[14,17,15],[14,16,17],[14,15,17],[14,17,16],[3,0,14],[0,12,14],[16,9,6],[18,9,16],[2,5,15],[2,15,13],[17,8,11],[17,11,19],[12,13,14],[13,15,14],[16,17,18],[17,19,18]],r=[[20,21,25],[20,25,24],[22,23,27],[22,27,26],[20,27,23],[20,24,27],[21,22,26],[21,26,25],[24,25,26],[24,26,27]],a=0,u=r.length;u>a;a++)s=r[a],e>0?n.push(s):n.push([s[1],s[0],s[2]]);return o=new i.CustomGeometry(l,n),o.applyMatrix(O(0,0,0,"Z",.5*e*t)),o},M=function(t,e,n){var r,s,o,u,l;return null==e&&(e=1),null==n&&(n=2e3),l=new i.Geometry,u=new i.Geometry,e*=-1,r=Math.sqrt(Math.pow(t-155,2)+Math.pow(n,2)),s=Math.atan2(t-155,n),l.merge(C(-1,1*e)),l.merge(C(-1,-1*e),O(t,0,n,"Z",2)),o=e>0?14:7,u.merge(new i.BoxGeometry(35,10,60),O(0,0,10)),u.merge(R(16,0,21),O(0,o,0,"X",1)),u.merge(k(35,10,70,h/2),O(0,0,110,"X",2)),u.merge(R(h,p,r-220),O(0,0,110)),u.merge(k(35,10,70,h/2),O(0,0,r-110)),u.merge(new i.BoxGeometry(35,10,60),O(0,0,r-10)),u.merge(R(16,0,21),O(0,o,r,"X",1)),l.merge(u,O(77.5,-50*e,0,"Y",s/a)),l},T=function(){var t,e;return e=[[25,7,38],[26,0,38],[25,-7,38],[25,7,11],[26,0,11],[25,-7,11],[25,7,-1],[26,0,-1],[25,-7,-1],[25,7,-35],[26,0,-35],[25,-7,-35],[65,12,24],[65,-12,24],[65,22,11],[65,-22,11],[65,22,-1],[65,-22,-1],[65,12,-24],[65,-12,-24],[77,0,24],[77,-17,17],[77,-24,0],[77,-17,-17],[77,0,-24],[77,17,-17],[77,24,0],[77,17,17]],t=[[0,1,12],[1,13,12],[1,2,13],[9,18,10],[10,18,19],[10,19,11],[1,0,4],[4,0,3],[2,1,5],[5,1,4],[7,6,10],[10,6,9],[8,7,11],[11,7,10],[4,3,14],[4,14,15],[5,4,15],[6,7,16],[7,17,16],[7,8,17],[14,17,15],[14,16,17],[3,0,14],[0,12,14],[16,9,6],[18,9,16],[2,5,15],[2,15,13],[17,8,11],[17,11,19],[20,12,13],[20,13,21],[21,13,15],[21,15,22],[22,15,17],[22,17,23],[23,17,19],[23,19,24],[24,19,18],[24,18,25],[25,18,16],[25,16,26],[26,16,14],[26,14,27],[27,14,12],[27,12,20]],new i.CustomGeometry(e,t)},S=function(t){var e;return e=R(h,p,t-150),e.applyMatrix(O(75,0,0,"Y",1)),e.merge(T()),e.merge(T(),O(t,0,0,"Z",2)),e.applyMatrix(O(0,0,0,"X",-1)),e},x=function(t){var e,n,r,s,a,o,u;for(a=R(h,p,t-150),a.applyMatrix(O(75,0,0,"Y",1)),a.merge(T()),a.merge(T(),O(t,0,0,"Z",2)),s=new i.CurvePath,s.add(new i.LineCurve3(new i.Vector3(0,0,0),new i.Vector3(200,100,0))),s.add(new i.LineCurve3(new i.Vector3(200,100,0),new i.Vector3(t-350,100,0))),s.add(new i.LineCurve3(new i.Vector3(t-350,100,0),new i.Vector3(t-150,0,0))),o=A(.6*h,.6*p,s),o.applyMatrix(O(75,0,0,"X",-1)),a.merge(o),n=r=500,u=t-1;u>=r;n=r+=500)e=new i.BoxGeometry(100,100,5),e.applyMatrix(O(n,0,-50,"X",1)),a.merge(e);return a.applyMatrix(O(0,0,0,"X",-1)),a},L=function(){return R(f,h,d)},j=function(){var t;return t=R(45,30,400),t.applyMatrix(O(0,0,-200)),t},E=function(t,e){var n,r,s,a;for(null==e&&(e=1),a=new i.Geometry,a.merge(H(t),O(0,0,100)),n=r=500,s=t;s>=r;n=r+=500)a.merge(L(),O(0,0,n));return 1===e&&a.merge(j(),O(0,0,t)),a.applyMatrix(O(0,0,0,"X",-1)),a},l=function(t,e,n,r,s){var a;return a=N(10*t),a.merge(new i.BoxGeometry(100,100,5)),a.merge(new i.BoxGeometry(120,40,10),O(0,0,70,"Z",.5)),parseInt(s)<0||s&&"n"===s[0]||"-"===s?a.applyMatrix(O(10*e,10*n+175,10*r,"X",1)):a.applyMatrix(O(10*e,10*n-144,10*r,"X",-1)),a},g=function(t,e,n,r,i){var s,a,o,u,l,c,h;if(s=0,l=1,i)for(u=i.split(","),a=0,o=u.length;o>a;a++)c=u[a],(parseInt(c)<0||c&&"n"===c[0]||"-"===c)&&(s=2),"o"===c[0]&&(l=0);return h=E(10*t,l),h.applyMatrix(O(10*e,10*n,10*r,"X",s)),h},c=function(t,e,n,r,i){var s;switch(s=S(10*t),i){case"X":i=0;break;case"Y":i=1;break;case"-X":i=2;break;case"-Y":i=3;break;default:return}return s.applyMatrix(O(10*e,10*n,10*r,"Y",-i)),s},u=function(t,e,n,r,i){var s;switch(s=x(10*t),i){case"X":i=0;break;case"Y":i=1;break;case"-X":i=2;break;case"-Y":i=3;break;default:return}return s.applyMatrix(O(10*e,10*n,10*r,"Y",-i)),s},v=function(t,e,n,r,i,s,a){var o,u;switch(o=-1,s){case"X":s=0;break;case"Y":s=1;break;case"-X":s=2;break;case"-Y":s=3;break;default:return}return o=1===s||2===s?1:-1,(parseInt(a)<0||a&&"n"===a[0]||"-"===a)&&(o*=-1),u=M(10*t,o,10*e),u.applyMatrix(O(0,0,0,"X",-1)),u.applyMatrix(O(0,0,0,"Y",-s)),u.applyMatrix(O(10*n,10*r,10*i)),u},n=function(t,e,n,r,s,a){var o,u,l,c,h,p,f;for(u=new i.Geometry,a=a.split("/"),h=0,f=a[0],a.length>=2&&parseInt(a[1])&&(h=parseInt(a[1])),p=f.split(","),l=0,c=p.length;c>l;l++)o=p[l],u.merge(_(10*t,10*o,h)),h+=10*o+5;switch(s){case"X":u.applyMatrix(O(10*e+10*t,10*n,10*r,"Y",-1));break;case"Y":u.applyMatrix(O(10*e,10*n,10*r));break;case"-X":u.applyMatrix(O(10*e,10*n,10*r,"Y",1));break;case"-Y":u.applyMatrix(O(10*e,10*n,10*r+10*t,"Y",2))}return u},e=function(t,e,n){var r;return r=w(),r.applyMatrix(O(10*t,10*e,10*n)),r},t.prototype.getGeometry=function(t){var r,s,a,o,h,p;switch(a=t.get("element"),h=t.get("x"),p=t.get("y"),s=t.get("h"),r=t.get("direction"),o=t.get("special"),a){case"AnfSt":return e(h,s,p);case"V50":return g(50,h,s,p,o);case"V100":return g(100,h,s,p,o);case"V150":return g(150,h,s,p,o);case"V200":return g(200,h,s,p,o);case"V300":return g(300,h,s,p,o);case"V400":return g(400,h,s,p,o);case"R25":return c(25,h,s,p,r);case"R50":return c(50,h,s,p,r);case"R100":return c(100,h,s,p,r);case"R200":return c(200,h,s,p,r);case"R300":return c(300,h,s,p,r);case"DR100":return u(100,h,s,p,r);case"DR200":return u(200,h,s,p,r);case"DR300":return u(300,h,s,p,r);case"D100":return v(100,200,h,s,p,r,o);case"D150":return v(150,200,h,s,p,r,o);case"D200":return v(200,200,h,s,p,r,o);case"D300":return v(300,200,h,s,p,r,o);case"DS200":return v(200,100,h,s,p,r,o);case"F40":return l(40,h,s,p,o);case"F60":return l(40,h,s,p,o);case"B100":return n(100,h,s,p,r,o);case"B300":return n(300,h,s,p,r,o);default:return new i.Geometry}},t}(),t.exports=r},function(t,e,n){var r,i,s=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},a={}.hasOwnProperty;r=n(2),i=n(17),t.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return s(e,t),e.prototype.dataTable=null,e.prototype.fetched=!1,e.prototype.fields={show:{name:"Anzeige"},color:{name:"Farbe"},element:{name:"Bauteil"},x:{name:"X"},y:{name:"Y"},h:{name:"H"},direction:{name:"Richtung"},special:{name:"Besonderheit"}},e.prototype.determineColumn=function(t){return/^\s?(Element|Bauteil)\s$/i.test(t)?"element":/^\s?(Richtung)\s?$/i.test(t)?"direction":/^\s?(Besonderheit)\s(.*)?$/i.test(t)?"special":/^(Anzeige\s)?(Anzeige)$/i.test(t)?"show":/^(Position)?\s?(X)$/i.test(t)?"x":/^(Position)?\s?(Y)$/i.test(t)?"y":/^(Position)?\s?(H)$/i.test(t)?"h":/^(Anzeige)?\s?(Farbe)$/i.test(t)?"color":null},e.prototype.idAttribute="sheet",e.prototype.initialize=function(t,e){return this.app=e.collection.app,this.elements=new i([],{app:this.app})},e.prototype.setSelected=function(t){return this.collection.setSelected(this),this.fetched?t?t(this):void 0:this.fetch({success:function(e){return function(){return e.fetched=!0,t?t(e):void 0}}(this)})},e.prototype.parse=function(t){var e,n,r,s,a,o,u,l,c,h,p,f,d,v;for(this.dataTable=t.getDataTable(),r={},n={},e=l=0,f=this.dataTable.getNumberOfColumns();f>=0?f>l:l>f;e=f>=0?++l:--l)s=this.determineColumn(this.dataTable.getColumnLabel(e)),s&&(r[s]=e,n[s]=!0);d=this.fields;for(u in d)if(e=d[u],null==n[u])return void console.log("Spalte '"+e.name+"' nicht gefunden!");for(o=[],p=c=0,v=this.dataTable.getNumberOfRows();v>=0?v>c:c>v;p=v>=0?++c:--c){a={};for(h in r)e=r[h],a[h]=this.dataTable.getValue(p,e);o.push(a)}return console.log("Construction: loaded element list: ",o),{elements:new i(o,{app:this.app})}},e}(r.Model)},function(t,e,n){var r,i=function(t,e){function n(){this.constructor=t}for(var r in e)s.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},s={}.hasOwnProperty;r=n(2),t.exports=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return i(e,t),e.prototype.app=null,e.prototype.geometry=null,e.prototype.initialize=function(t,n){return e.__super__.initialize.call(this,t,n),this.app=n.collection.app,this.geometry=this.app.egsElementProvider.getGeometry(this)},e}(r.Model)},function(t,e,n){var r,i,s,a=function(t,e){return function(){return t.apply(e,arguments)}};r=n(2),s=n(7),t.exports=i=function(){function t(t){this.app=t,this.save=a(this.save,this),this.reset=a(this.reset,this),this.saveButton.addEventListener("click",this.save),this.cancelButton.addEventListener("click",this.cancel),this.resetButton.addEventListener("click",this.reset)}return t.prototype.modal=document.getElementById("dataSourceModal"),t.prototype.inputField=document.getElementById("dataSourceModal-input"),t.prototype.saveButton=document.getElementById("dataSourceModal-save"),t.prototype.cancelButton=document.getElementById("dataSourceModal-cancel"),t.prototype.resetButton=document.getElementById("dataSourceModal-reset"),t.prototype.errorBanner=document.getElementById("dataSourceModal-error"),t.prototype.reset=function(t){return this.inputField.value=App.defaultSource},t.prototype.save=function(t){var e;return e=s(this.inputField.value,!0),e?(this.errorBanner.style.display="none",this.app.navigate(e.join("/"),{trigger:!0})):(this.errorBanner.style.display="",t.preventDefault(),t.stopPropagation())},t}()},function(t,e,n){var r,i,s,a,o,u,l=function(t,e){function n(){this.constructor=t}for(var r in e)c.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c={}.hasOwnProperty,h=function(t,e){return function(){return t.apply(e,arguments)}};r=n(2),u=n(6),o=n(11)(u),s=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return l(e,t),e.prototype.parent=null,e.prototype.mesh=null,e.prototype.color=null,e.prototype.display=null,e.prototype.parseNum=function(t){var e,n,r,i,s,a,o,u;if(!t)return[];for(i=[],a=t.split(","),n=0,r=a.length;r>n;n++)o=a[n],u=o.split(":"),s=u[0].split("-"),e=2===u.length?u[1]:null,""===s[0]&&(s[0]=null),1===s.length&&(s[1]=s[0]),""===s[1]&&(s[1]=null),s[0]>=0&&i.push([s[0],s[1],e]);return i},e.prototype.initialize=function(t){var e,n,r,i,s,a,o,l,c;for(this.parent=t.parent,
this.model.geometry.computeBoundingBox(),this.color=this.parent.getAndStoreColor(this.model.get("color")),this.mesh=new u.Mesh(this.model.geometry,this.color),this.mesh.visible=!1,this.display=[],o=this.parseNum(this.model.get("show")),c=[],r=0,s=o.length;s>r;r++){for(e=o[r],l=[0,1],i=0,a=l.length;a>i;i++)n=l[i],null!==e[n]&&(e[n]=parseInt(e[n]),this.parent.steps.push(e[n]));e[2]=null===e[2]?this.color:this.parent.getAndStoreColor(e[2]),c.push(this.display.push(e))}return c},e.prototype.getMesh=function(){return this.mesh},e.prototype.setStep=function(t){var e,n;n=null;for(e in this.display)null!==this.display[e][0]&&null!==this.display[e][1]?t>=this.display[e][0]&&t<=this.display[e][1]&&(n=this.display[e][2]):null!==this.display[e][0]?t>=this.display[e][0]&&(n=this.display[e][2]):null!==this.display[e][1]&&t<=this.display[e][1]&&(n=this.display[e][2]);return this.mesh.visible=null!==n,this.mesh.material=n?n:this.color},e}(r.View),i=function(){function t(t){this.domElementID=t,this.onWindowResize=h(this.onWindowResize,this),this.scene=new u.Scene,this._addRenderer(this.domElementID),this._addLights(),this._addCamera(),this._addControls(),this.onWindowResize(),this._animationStart()}return t.prototype.center=new u.Vector3,t.prototype.bbox=new u.Box3,t.prototype.startTime=null,t.prototype.turnRate=0,t.prototype.turnOffset=0,t.prototype.camDistance=0,t.prototype.camDistanceOffset=0,t.prototype.camHeight=0,t.prototype.camHeightOffset=0,t.prototype.scene=null,t.prototype.renderer=null,t.prototype.camera=null,t.prototype.controls=null,t.prototype.animationRequest=null,t.prototype._addRenderer=function(t){var e,n;n=!1;try{e=document.createElement("canvas"),n=!(!window.WebGLRenderingContext||!e.getContext("webgl")&&!e.getContext("experimental-webgl"))}catch(r){}return n?this.renderer=new u.WebGLRenderer({antialias:!0}):this.renderer=new u.CanvasRenderer,this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(window.innerWidth,window.innerHeight),document.getElementById(t).appendChild(this.renderer.domElement)},t.prototype._addLights=function(){var t,e;return e=new u.HemisphereLight(16777215,16777215,.6),e.color.setHSL(.6,1,.6),e.groundColor.setHSL(.095,1,.75),e.position.set(0,500,0),this.scene.add(e),t=new u.DirectionalLight(16777215,1),t.color.setHSL(.1,1,.95),t.position.set(-5e3,1e4,-5e3),t.position.multiplyScalar(50),this.scene.add(t)},t.prototype._addCamera=function(){var t,e;return e=window.innerWidth,t=window.innerHeight,this.camera=new u.PerspectiveCamera(70,e/t,1,2e5)},t.prototype._addControls=function(){return this.controls=new o(this.camera,this.renderer.domElement),this.controls.zoomSpeed=.3,this.controls.rotateSpeed=.3},t.prototype.onWindowResize=function(){var t,e,n;if(this.camera)return e=getComputedStyle(document.getElementById(this.domElementID),null),n=parseInt(e.getPropertyValue("width")),t=parseInt(e.getPropertyValue("height")),this.camera.aspect=n/t,this.camera.updateProjectionMatrix(),this.renderer.setSize(n,t)},t.prototype._animationStart=function(){return this.scene?this.animationRequest?void 0:this._animationFrame():void 0},t.prototype._animationStop=function(){return this.animationRequest&&window.cancelAnimationFrame(this.animationRequest),this.animationRequest=null},t.prototype._animationFrame=function(){return this.animationRequest=window.requestAnimationFrame(function(t){return function(){return t._animationFrame()}}(this)),this.calcCamPos(),this.renderer.render(this.scene,this.camera)},t.prototype.resetView=function(){var t,e;return this.center=this.bbox.center(),e=this.bbox.size(),t=this.camera.fov/180*Math.PI*80/100,this.camDistance=Math.max.apply(Math,[e.y/2*Math.tan(t)+Math.sqrt(e.x*e.x/4+e.z*e.z/4),e.y/2*Math.tan(t)+e.z/2,e.y/2*Math.tan(t)+e.x/2,e.x/2*Math.tan(t)/this.camera.aspect+e.z/2,e.z/2*Math.tan(t)/this.camera.aspect+e.x/2]),this.camHeight=this.center.y,this.controls.target.copy(this.center)},t.prototype.removeAll=function(){for(;this.scene.children.length;)this.scene.remove(this.scene.children[0]);return this._addLights(),this.bbox=new u.Box3},t.prototype.add=function(t){return this.scene.add(t.getMesh()),this.bbox.union(t.model.geometry.boundingBox),this.resetView()},t.prototype.setTurnRate=function(t){var e;return e=Date.now()-this.startTime,this.turnOffset=this.turnOffset+e/(6e4/this.turnRate),this.startTime=Date.now(),this.controls.enableZoom=0===t,this.controls.enablePan=0===t,this.controls.enableRotate=0===t,this.turnRate=t,this.calcCamPos(!0)},t.prototype.setHeight=function(t,e){return this.camHeight=function(){switch(e){case"abs":return 10*t;case"incr":return this.camHeight+10*t;case"rel":return 2*this.center.y*t;default:return this.camHeight}}.call(this)},t.prototype.calcCamPos=function(t){var e,n;if(t)n=this.turnOffset;else{if(0===this.turnRate)return;e=Date.now()-this.startTime,n=this.turnOffset+e/(6e4/this.turnRate)}return this.camera.position.x=this.center.x+Math.sin(2*Math.PI*n)*(this.camDistance+this.camDistanceOffset),this.camera.position.y=this.camHeight,this.camera.position.z=this.center.z+Math.cos(2*Math.PI*n)*(this.camDistance+this.camDistanceOffset),this.camera.lookAt(this.center)},t}(),a=function(t){function e(t,e){this.app=t,this.domElementID=e,this.display=new i(this.domElementID)}var n,r;return l(e,t),e.prototype.elements=[],e.prototype.steps=[],e.prototype.stepNo=0,r=[],e.prototype.setTurnRate=function(t){return this.display.setTurnRate(Math.max(0,t))},e.prototype.setHeight=function(t,e){return this.display.setHeight(t,e)},e.prototype.resetView=function(){return this.display.resetView()},e.prototype.showConstruct=function(t){var e,n,r,i;for(this.elements=[],this.steps=[],t.get("elements").each(function(t){return function(e){return t.elements.push(new s({model:e,parent:t}))}}(this)),this.steps=this.steps.filter(function(t,e,n){return e===n.indexOf(t)}),this.steps.sort(function(t,e){return t-e}),this.app.view.SecondaryNav.setSteps(this.steps),this.display.removeAll(),i=this.elements,n=0,r=i.length;r>n;n++)e=i[n],this.display.add(e);return this.updateConstruct(this.stepNo)},e.prototype.updateConstruct=function(t){var e,n,r,i;for(this.stepNo=t,i=this.elements,n=0,r=i.length;r>n;n++)e=i[n],e.setStep(parseInt(this.steps[this.stepNo]));return this.render()},n=function(t){var e,n;return e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),n=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(t),e?(parseInt(e[1],16)<<16)+(parseInt(e[2],16)<<8)+parseInt(e[3],16):n?(17*parseInt(n[1],16)<<16)+(17*parseInt(n[2],16)<<8)+17*parseInt(n[3],16):8947848},e.prototype.getAndStoreColor=function(t){return null==r[t]&&(r[t]=new u.MeshPhongMaterial({color:n(t),emissive:0,specular:0,shininess:30})),r[t]},e}(r.View),t.exports=a},function(t,e,n){var r;r=n(2),t.exports=r.View.extend({el:document.getElementById("primaryNav"),template:n(27),activeConstructionList:null,initialize:function(t){return this.dataSourceList=t,this.listenTo(this.dataSourceList,"select",function(){return this.activeConstructionList&&this.stopListening(this.activeConstructionList),this.activeConstructionList=null,this.render("loading","unset")}),this.listenTo(this.dataSourceList,"sync",function(){return this.activeConstructionList=this.dataSourceList.selected.get("constructions"),this.listenTo(this.activeConstructionList,"select",function(){return this.render("loaded","loading")}),this.listenTo(this.activeConstructionList,"sync",function(){return this.render("loaded","loaded")}),this.render("loaded","unset")}),this.render("unset","unset")},render:function(t,e){var n,r,i;return null==t&&(t=0),null==e&&(e=0),i={},"loaded"===t&&(i.item=[],n=this.dataSourceList.selected.get("constructions"),r=null,n.each(function(t){return t===n.selected&&(r=t.get("name")),i.item.push({sheet:t.get("sheet"),name:t.get("name")})}),"unset"!==e?i.auswahl=""+r:i.auswahl=i.item.length+" Konstruktionen zur Auswahl"),"loading"!==t&&"loading"!==e||(i.loading=!0),this.el.innerHTML=this.template(i)}})},function(t,e,n){(function(e){var r,i=function(t,e){return(+t%(e=+e)+e)%e};r=n(2),t.exports=r.View.extend({el:document.getElementById("secondaryNav"),template:n(28),steps:[],step:0,counter:0,stepper:5,rotRate:2,events:{"click .step-rel":"stepRel","click .step-abs":"stepAbs","click .step-auto":"stepAuto","click .rot-incr":"rotationIncr","click .rot-setp":"rotationSetp","click .view-reset":"viewReset","click .height-incr":"heightIncr","click .height-setabs":"heightSetAbs","click .height-setrel":"heightSetRel"},heightIncr:function(t){return this.app.view.EGS&&this.app.view.EGS.setHeight(parseInt(t.target.dataset.incr),"incr"),this.update()},heightSetAbs:function(t){return this.app.view.EGS&&this.app.view.EGS.setHeight(parseInt(t.target.dataset.setabs),"abs"),this.update()},heightSetRel:function(t){return this.app.view.EGS&&this.app.view.EGS.setHeight(parseFloat(t.target.dataset.setrel),"rel"),this.update()},stepRel:function(t){return this.incrStep(t.target.dataset.step)},stepAbs:function(t){return this.setStep(t.target.dataset.step)},stepAuto:function(t){return this.stepper=parseInt(t.target.dataset.val),this.render()},rotationIncr:function(t){return this.rotRate+=parseFloat(t.target.dataset.incr),this.app.view.EGS&&this.app.view.EGS.setTurnRate(this.rotRate),this.update()},rotationSetp:function(t){return this.rotRate=parseFloat(t.target.dataset.setp),this.app.view.EGS&&this.app.view.EGS.setTurnRate(this.rotRate),this.update()},viewReset:function(t){return this.rotRate=2,this.app.view.EGS&&this.app.view.EGS.setTurnRate(this.rotRate),this.app.view.EGS&&this.app.view.EGS.resetView(),this.update()},startup:function(){return this.setStep(0),setInterval(function(t){return function(){return t.timeTrigger()}}(this),1e3),this.app.view.EGS.updateConstruct(this.step),this.app.view.EGS.setTurnRate(this.rotRate)},setSteps:function(t){return this.steps=t,this.step=0,this.render()},incrStep:function(t){return t=parseInt(t),this.step+t<0?this.setStep(this.step+this.steps.length+t):this.step+t>=this.steps.length?this.setStep(this.step-this.steps.length+t):this.setStep(this.step+t)},setStep:function(t){return this.step=parseInt(t),console.log("Aufbauschritt: "+this.steps[this.step]+" (index: "+this.step+")"),this.app.view.EGS&&this.app.view.EGS.updateConstruct(this.step),this.update()},timeTrigger:function(){return this.stepper&&0===i(++this.counter,this.stepper)?this.incrStep(1):void 0},initialize:function(t){return this.app=t,this.render()},update:function(){return e("#stepNo",this.$el).text(this.steps[this.step]),e(".steps li",this.$el).removeClass("active"),e(".step-"+this.step,this.$el).addClass("active"),e(".rots li",this.$el).removeClass("active"),e(".rot-"+this.rotRate,this.$el).addClass("active")},render:function(){var t,e,n;e=[];for(t in this.steps)e.push({i:t,name:"Schritt "+this.steps[t]});return n={steps:e,step:this.step,stepName:this.steps[this.step],auto:this.stepper,rotMode:this.rotRate>0?this.rotRate+" U/min":"Manuell",rate:this.rotRate},this.el.innerHTML=this.template(n)}})}).call(e,n(4))},,,function(t,e,n){var r=n(10);t.exports=(r["default"]||r).template({1:function(t,e,n,r,i){var s,a,o=null!=e?e:{};return'	<li class="sourceLoader navbar-text">\n		Konstruktion: \n	</li>\n	<li class="sourceDisplay dropdown">\n		<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"> '+t.escapeExpression((a=null!=(a=n.auswahl||(null!=e?e.auswahl:e))?a:n.helperMissing,"function"==typeof a?a.call(o,{name:"auswahl",hash:{},data:i}):a))+' <span class="caret"></span></a>\n		<ul id="constructionList" class="dropdown-menu">\n'+(null!=(s=n.each.call(o,null!=e?e.item:e,{name:"each",hash:{},fn:t.program(2,i,0),inverse:t.noop,data:i}))?s:"")+"		</ul>\n	</li>\n"+(null!=(s=n["if"].call(o,null!=e?e.loading:e,{name:"if",hash:{},fn:t.program(4,i,0),inverse:t.noop,data:i}))?s:"")},2:function(t,e,n,r,i){var s,a=null!=e?e:{},o=n.helperMissing,u="function",l=t.escapeExpression;return'			<li><a href="#'+l((s=null!=(s=n.sheet||(null!=e?e.sheet:e))?s:o,typeof s===u?s.call(a,{name:"sheet",hash:{},data:i}):s))+'">'+l((s=null!=(s=n.name||(null!=e?e.name:e))?s:o,typeof s===u?s.call(a,{name:"name",hash:{},data:i}):s))+"</a></li>\n"},4:function(t,e,n,r,i){return'	<li class="sourceLoader navbar-text spinner">\n		<div class="bounce1"></div>\n		<div class="bounce2"></div>\n		<div class="bounce3"></div>\n	</li>\n	<li class="sourceLoader navbar-text">\n		wird geladen...\n	</li>\n'},6:function(t,e,n,r,i){var s;return null!=(s=n["if"].call(null!=e?e:{},null!=e?e.loading:e,{name:"if",hash:{},fn:t.program(7,i,0),inverse:t.program(9,i,0),data:i}))?s:""},7:function(t,e,n,r,i){return'	<li class="sourceLoader navbar-text spinner">\n		<div class="bounce1"></div>\n		<div class="bounce2"></div>\n		<div class="bounce3"></div>\n	</li>\n	<li class="sourceLoader navbar-text">\n		Konstuktionen werden geladen...\n	</li>\n'},9:function(t,e,n,r,i){return'	<li class="navbar-text">\n		<b class="text-danger">Keine Datenquelle ausgewählt!</b>\n	</li>\n'},compiler:[7,">= 4.0.0"],main:function(t,e,n,r,i){var s;return'<ul class="nav navbar-nav navbar-left">\n'+(null!=(s=n["if"].call(null!=e?e:{},null!=e?e.item:e,{name:"if",hash:{},fn:t.program(1,i,0),inverse:t.program(6,i,0),data:i}))?s:"")+'</ul>\n<form class="navbar-form navbar-right" role="search">\n	<button type="button" class="btn btn-default" data-toggle="modal" data-target="#dataSourceModal">Datenquelle wechseln</button>\n</form>\n'},useData:!0})},function(t,e,n){function r(t){return t&&(t.__esModule?t["default"]:t)}var i=n(10);t.exports=(i["default"]||i).template({1:function(t,e,n,r,i){return""},3:function(t,e,n,r,i){return" active"},5:function(t,e,n,r,i){return"active"},7:function(t,e,i,s,a,o,u){var l,c=t.lambda,h=t.escapeExpression;return'						<li class="step-'+h(c(null!=e?e.i:e,e))+(null!=(l=r(n(1)).call(null!=e?e:{},null!=u[1]?u[1].step:u[1],null!=e?e.i:e,{name:"cmp",hash:{},fn:t.program(3,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="step-abs" data-step="'+h(c(null!=e?e.i:e,e))+'">'+h(c(null!=e?e.name:e,e))+"</a></li>\n"},compiler:[7,">= 4.0.0"],main:function(t,e,i,s,a,o,u){var l,c=null!=e?e:{},h=t.lambda,p=t.escapeExpression;return'<ul class="nav navbar-nav navbar-left">\n	<li class="navbar-text">\n		Aufbauschritte:\n	</li>\n	<li>\n		<div class="btn-group" role="group">\n			<button type="button" class="step-rel btn btn-info navbar-btn" data-step="-1">&lt;</button>\n			<div class="btn-group dropup" role="group">\n				<button type="button" class="btn btn-info navbar-btn dropdown-toggle'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"0",{name:"cmp",hash:{},fn:t.program(1,a,0,o,u),inverse:t.program(3,a,0,o,u),data:a}))?l:"")+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n					Automatisch <span class="caret"></span>\n				</button>\n				<ul class="dropdown-menu">\n					<li class="'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"0",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="step-auto" data-val="0">aus</a></li>\n					<li class="'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"1",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="step-auto" data-val="1">1 Sekunde</a></li>\n					<li class="'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"2",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="step-auto" data-val="2">2 Sekunden</a></li>\n					<li class="'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"5",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="step-auto" data-val="5">5 Sekunden</a></li>\n					<li class="'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"10",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="step-auto" data-val="10">10 Sekunden</a></li>\n				</ul>\n			</div>\n			<div class="btn-group dropup" role="group">\n				<button type="button" class="btn btn-info navbar-btn dropdown-toggle'+(null!=(l=r(n(1)).call(c,null!=e?e.auto:e,"0",{name:"cmp",hash:{},fn:t.program(3,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n					Schritt <span id="stepNo">'+p(h(null!=e?e.stepName:e,e))+'</span> <span class="caret"></span>\n				</button>\n				<ul class="dropdown-menu steps">\n'+(null!=(l=i.each.call(c,null!=e?e.steps:e,{name:"each",hash:{},fn:t.program(7,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'				</ul>\n			</div>\n			<button type="button" class="step-rel btn btn-info navbar-btn" data-step="1">&gt;</button>\n		</div>\n	</li>\n	<li class="navbar-text">\n		Ansicht:\n	</li>\n	<li>\n		<div class="btn-group" role="group">\n			<button type="button" class="rot-incr btn btn-info navbar-btn" data-incr="-.25">-</button>\n			<div class="btn-group dropup" role="group">\n				<button type="button" class="btn btn-info navbar-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n					Rotation <!--<span id="rotMode">'+p(h(null!=e?e.rotMode:e,e))+'</span> --><span class="caret"></span>\n				</button>\n				<ul class="dropdown-menu rots">\n					<li class="rot-0 '+(null!=(l=r(n(1)).call(c,null!=e?e.rate:e,"0",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="rot-setp" data-setp="0">Manuell</a></li>\n					<li class="rot-1 '+(null!=(l=r(n(1)).call(c,null!=e?e.rate:e,"1",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="rot-setp" data-setp="1">1 U/min</a></li>\n					<li class="rot-2 '+(null!=(l=r(n(1)).call(c,null!=e?e.rate:e,"2",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="rot-setp" data-setp="2">2 U/min</a></li>\n					<li class="rot-3 '+(null!=(l=r(n(1)).call(c,null!=e?e.rate:e,"3",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="rot-setp" data-setp="3">3 U/min</a></li>\n					<li class="rot-5 '+(null!=(l=r(n(1)).call(c,null!=e?e.rate:e,"5",{name:"cmp",hash:{},fn:t.program(5,a,0,o,u),inverse:t.noop,data:a}))?l:"")+'"><a class="rot-setp" data-setp="5">5 U/min</a></li>\n				</ul>\n			</div>\n			<button type="button" class="rot-incr btn btn-info navbar-btn" data-incr=".25">+</button>\n		</div>\n		&nbsp;\n	</li>\n	<li>\n		<div class="btn-group" role="group">\n			<button type="button" class="height-incr btn btn-info navbar-btn" data-incr="-50">-</button>\n			<div class="btn-group dropup" role="group">\n				<button type="button" class="btn btn-info navbar-btn dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">\n					Höhe <span class="caret"></span>\n				</button>\n				<ul class="dropdown-menu heights">\n					<li class=""><a class="height-setrel" data-setrel="1.5">Oberkante + 50 %</a></li>\n					<li class=""><a class="height-setrel" data-setrel="1">Oberkante</a></li>\n					<li class=""><a class="height-setrel" data-setrel="0.5">Mitte</a></li>\n					<li class=""><a class="height-setabs" data-setabs="157">Mensch</a></li>\n					<li class=""><a class="height-setrel" data-setrel="0">Unterkante</a></li>\n				</ul>\n			</div>\n			<button type="button" class="height-incr btn btn-info navbar-btn" data-incr="50">+</button>\n		</div>\n		&nbsp;\n	</li>\n	<li>\n		<div class="btn-group" role="group">\n			<button type="button" class="btn btn-info navbar-btn view-reset">Reset</button>\n		</div>\n	</li>\n</ul>\n'},useData:!0,useDepths:!0})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function s(){var t=new o.HandlebarsEnvironment;return f.extend(t,o),t.SafeString=l["default"],t.Exception=h["default"],t.Utils=f,t.escapeExpression=f.escapeExpression,t.VM=v,t.template=function(e){return v.template(e,t)},t}e.__esModule=!0;var a=n(9),o=i(a),u=n(43),l=r(u),c=n(5),h=r(c),p=n(3),f=i(p),d=n(42),v=i(d),g=n(41),m=r(g),y=s();y.create=s,m["default"](y),y["default"]=y,e["default"]=y,t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){a["default"](t)}e.__esModule=!0,e.registerDefaultDecorators=i;var s=n(31),a=r(s)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e["default"]=function(t){t.registerDecorator("inline",function(t,e,n,i){var s=t;return e.partials||(e.partials={},s=function(i,s){var a=n.partials;n.partials=r.extend({},a,e.partials);var o=t(i,s);return n.partials=a,o}),e.partials[i.args[0]]=i.fn,s})},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){a["default"](t),u["default"](t),c["default"](t),p["default"](t),d["default"](t),g["default"](t),y["default"](t)}e.__esModule=!0,e.registerDefaultHelpers=i;var s=n(33),a=r(s),o=n(34),u=r(o),l=n(35),c=r(l),h=n(36),p=r(h),f=n(37),d=r(f),v=n(38),g=r(v),m=n(39),y=r(m)},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e["default"]=function(t){t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse,s=n.fn;if(e===!0)return s(this);if(e===!1||null==e)return i(this);if(r.isArray(e))return e.length>0?(n.ids&&(n.ids=[n.name]),t.helpers.each(e,n)):i(this);if(n.data&&n.ids){var a=r.createFrame(n.data);a.contextPath=r.appendContextPath(n.data.contextPath,n.name),n={data:a}}return s(e,n)})},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(3),s=n(5),a=r(s);e["default"]=function(t){t.registerHelper("each",function(t,e){function n(e,n,s){l&&(l.key=e,l.index=n,l.first=0===n,l.last=!!s,c&&(l.contextPath=c+e)),u+=r(t[e],{data:l,blockParams:i.blockParams([t[e],e],[c+e,null])})}if(!e)throw new a["default"]("Must pass iterator to #each");var r=e.fn,s=e.inverse,o=0,u="",l=void 0,c=void 0;if(e.data&&e.ids&&(c=i.appendContextPath(e.data.contextPath,e.ids[0])+"."),i.isFunction(t)&&(t=t.call(this)),e.data&&(l=i.createFrame(e.data)),t&&"object"==typeof t)if(i.isArray(t))for(var h=t.length;h>o;o++)o in t&&n(o,o,o===t.length-1);else{var p=void 0;for(var f in t)t.hasOwnProperty(f)&&(void 0!==p&&n(p,o-1),p=f,o++);void 0!==p&&n(p,o-1,!0)}return 0===o&&(u=s(this)),u})},t.exports=e["default"]},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}e.__esModule=!0;var i=n(5),s=r(i);e["default"]=function(t){t.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new s["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e["default"]=function(t){t.registerHelper("if",function(t,e){return r.isFunction(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||r.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers["if"].call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("log",function(){for(var e=[void 0],n=arguments[arguments.length-1],r=0;r<arguments.length-1;r++)e.push(arguments[r]);var i=1;null!=n.hash.level?i=n.hash.level:n.data&&null!=n.data.level&&(i=n.data.level),e[0]=i,t.log.apply(t,e)})},t.exports=e["default"]},function(t,e){"use strict";e.__esModule=!0,e["default"]=function(t){t.registerHelper("lookup",function(t,e){return t&&t[e]})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3);e["default"]=function(t){t.registerHelper("with",function(t,e){r.isFunction(t)&&(t=t.call(this));var n=e.fn;if(r.isEmpty(t))return e.inverse(this);var i=e.data;return e.data&&e.ids&&(i=r.createFrame(e.data),i.contextPath=r.appendContextPath(e.data.contextPath,e.ids[0])),n(t,{data:i,blockParams:r.blockParams([t],[i&&i.contextPath])})})},t.exports=e["default"]},function(t,e,n){"use strict";e.__esModule=!0;var r=n(3),i={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(t){if("string"==typeof t){var e=r.indexOf(i.methodMap,t.toLowerCase());t=e>=0?e:parseInt(t,10)}return t},log:function(t){if(t=i.lookupLevel(t),"undefined"!=typeof console&&i.lookupLevel(i.level)<=t){var e=i.methodMap[t];console[e]||(e="log");for(var n=arguments.length,r=Array(n>1?n-1:0),s=1;n>s;s++)r[s-1]=arguments[s];console[e].apply(console,r)}}};e["default"]=i,t.exports=e["default"]},function(t,e){(function(n){"use strict";e.__esModule=!0,e["default"]=function(t){var e="undefined"!=typeof n?n:window,r=e.Handlebars;t.noConflict=function(){return e.Handlebars===t&&(e.Handlebars=r),t}},t.exports=e["default"]}).call(e,function(){return this}())},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function i(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e["default"]=t,e}function s(t){var e=t&&t[0]||1,n=m.COMPILER_REVISION;if(e!==n){if(n>e){var r=m.REVISION_CHANGES[n],i=m.REVISION_CHANGES[e];throw new g["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+r+") or downgrade your runtime to an older version ("+i+").")}throw new g["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}}function a(t,e){function n(n,r,i){i.hash&&(r=d.extend({},r,i.hash),i.ids&&(i.ids[0]=!0)),n=e.VM.resolvePartial.call(this,n,r,i);var s=e.VM.invokePartial.call(this,n,r,i);if(null==s&&e.compile&&(i.partials[i.name]=e.compile(n,t.compilerOptions,e),s=i.partials[i.name](r,i)),null!=s){if(i.indent){for(var a=s.split("\n"),o=0,u=a.length;u>o&&(a[o]||o+1!==u);o++)a[o]=i.indent+a[o];s=a.join("\n")}return s}throw new g["default"]("The partial "+i.name+" could not be compiled when running in runtime-only mode")}function r(e){function n(e){return""+t.main(i,e,i.helpers,i.partials,a,u,o)}var s=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],a=s.data;r._setup(s),!s.partial&&t.useData&&(a=h(e,a));var o=void 0,u=t.useBlockParams?[]:void 0;return t.useDepths&&(o=s.depths?e!==s.depths[0]?[e].concat(s.depths):s.depths:[e]),(n=p(t.main,n,i,s.depths||[],a,u))(e,s)}if(!e)throw new g["default"]("No environment passed to template");if(!t||!t.main)throw new g["default"]("Unknown template object: "+typeof t);t.main.decorator=t.main_d,e.VM.checkRevision(t.compiler);var i={strict:function(t,e){if(!(e in t))throw new g["default"]('"'+e+'" not defined in '+t);return t[e]},lookup:function(t,e){for(var n=t.length,r=0;n>r;r++)if(t[r]&&null!=t[r][e])return t[r][e]},lambda:function(t,e){return"function"==typeof t?t.call(e):t},escapeExpression:d.escapeExpression,invokePartial:n,fn:function(e){var n=t[e];return n.decorator=t[e+"_d"],n},programs:[],program:function(t,e,n,r,i){var s=this.programs[t],a=this.fn(t);return e||i||r||n?s=o(this,t,a,e,n,r,i):s||(s=this.programs[t]=o(this,t,a)),s},data:function(t,e){for(;t&&e--;)t=t._parent;return t},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(n=d.extend({},e,t)),n},noop:e.VM.noop,compilerInfo:t.compiler};return r.isTop=!0,r._setup=function(n){n.partial?(i.helpers=n.helpers,i.partials=n.partials,i.decorators=n.decorators):(i.helpers=i.merge(n.helpers,e.helpers),t.usePartial&&(i.partials=i.merge(n.partials,e.partials)),(t.usePartial||t.useDecorators)&&(i.decorators=i.merge(n.decorators,e.decorators)))},r._child=function(e,n,r,s){if(t.useBlockParams&&!r)throw new g["default"]("must pass block params");if(t.useDepths&&!s)throw new g["default"]("must pass parent depths");return o(i,e,t[e],n,0,r,s)},r}function o(t,e,n,r,i,s,a){function o(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=a;return a&&e!==a[0]&&(o=[e].concat(a)),n(t,e,t.helpers,t.partials,i.data||r,s&&[i.blockParams].concat(s),o)}return o=p(n,o,t,a,r,s),o.program=e,o.depth=a?a.length:0,o.blockParams=i||0,o}function u(t,e,n){return t?t.call||n.name||(n.name=t,t=n.partials[t]):t="@partial-block"===n.name?n.data["partial-block"]:n.partials[n.name],t}function l(t,e,n){n.partial=!0,n.ids&&(n.data.contextPath=n.ids[0]||n.data.contextPath);var r=void 0;if(n.fn&&n.fn!==c&&(n.data=m.createFrame(n.data),r=n.data["partial-block"]=n.fn,r.partials&&(n.partials=d.extend({},n.partials,r.partials))),void 0===t&&r&&(t=r),void 0===t)throw new g["default"]("The partial "+n.name+" could not be found");return t instanceof Function?t(e,n):void 0}function c(){return""}function h(t,e){return e&&"root"in e||(e=e?m.createFrame(e):{},e.root=t),e}function p(t,e,n,r,i,s){if(t.decorator){var a={};e=t.decorator(e,a,n,r&&r[0],i,s,r),d.extend(e,a)}return e}e.__esModule=!0,e.checkRevision=s,e.template=a,e.wrapProgram=o,e.resolvePartial=u,e.invokePartial=l,e.noop=c;var f=n(3),d=i(f),v=n(5),g=r(v),m=n(9)},function(t,e){"use strict";function n(t){this.string=t}e.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},e["default"]=n,t.exports=e["default"]},,,,,,,,,function(t,e,n){(function(t){t.ConvexGeometry=function(e){function n(t){var n=e[t].clone(),i=n.length();n.x+=i*a(),n.y+=i*a(),n.z+=i*a();for(var o=[],l=0;l<u.length;){var c=u[l];if(r(c,n)){for(var h=0;3>h;h++){for(var p=[c[h],c[(h+1)%3]],f=!0,d=0;d<o.length;d++)if(s(o[d],p)){o[d]=o[o.length-1],o.pop(),f=!1;break}f&&o.push(p)}u[l]=u[u.length-1],u.pop()}else l++}for(var d=0;d<o.length;d++)u.push([o[d][0],o[d][1],t])}function r(t,n){var r=e[t[0]],s=e[t[1]],a=e[t[2]],o=i(r,s,a),u=o.dot(r);return o.dot(n)>=u}function i(e,n,r){var i=new t.Vector3,s=new t.Vector3;return i.subVectors(r,n),s.subVectors(e,n),i.cross(s),i.normalize(),i}function s(t,e){return t[0]===e[1]&&t[1]===e[0]}function a(){return 2*(Math.random()-.5)*1e-6}function o(e){var n=e.length();return new t.Vector2(e.x/n,e.y/n)}t.Geometry.call(this);for(var u=[[0,1,2],[0,2,1]],l=3;l<e.length;l++)n(l);for(var c=0,h=new Array(e.length),l=0;l<u.length;l++)for(var p=u[l],f=0;3>f;f++)void 0===h[p[f]]&&(h[p[f]]=c++,this.vertices.push(e[p[f]])),p[f]=h[p[f]];for(var l=0;l<u.length;l++)this.faces.push(new t.Face3(u[l][0],u[l][1],u[l][2]));for(var l=0;l<this.faces.length;l++){var p=this.faces[l];this.faceVertexUvs[0].push([o(this.vertices[p.a]),o(this.vertices[p.b]),o(this.vertices[p.c])])}this.computeFaceNormals(),this.computeVertexNormals()},t.ConvexGeometry.prototype=Object.create(t.Geometry.prototype)}).call(e,n(6))},function(t,e){t.exports=google},function(t,e){t.exports=window}]);
//# sourceMappingURL=app.js.map